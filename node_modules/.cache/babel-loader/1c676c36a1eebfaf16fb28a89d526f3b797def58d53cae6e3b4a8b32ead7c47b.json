{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\sms-frontend-clone\\\\src\\\\pages\\\\admin\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useMemo } from 'react';\nimport { AcademicCapIcon, UserGroupIcon, UserIcon, BookOpenIcon, BuildingOfficeIcon, CalendarIcon, ArrowPathIcon, ExclamationTriangleIcon, ClipboardDocumentListIcon, BanknotesIcon, CalendarDaysIcon, ClockIcon } from '@heroicons/react/24/outline';\nimport { Link } from 'react-router-dom';\nimport LoadingSpinner from '../../components/common/LoadingSpinner';\nimport statsService from '../../services/stats.service';\nimport { toast } from 'react-toastify';\nimport DashboardConnectionStatus from '../../components/DashboardConnectionStatus';\nimport AuthErrorMessage from '../../components/AuthErrorMessage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = ({\n  authError\n}) => {\n  _s();\n  const [stats, setStats] = useState({\n    totalStudents: 0,\n    activeStudents: 0,\n    totalTeachers: 0,\n    totalPrograms: 0,\n    recentEnrollments: 0,\n    currentYear: '',\n    studentsByProgram: [],\n    recentActivity: []\n  });\n  const [dashboardData, setDashboardData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isMockData, setIsMockData] = useState(false);\n  const [autoRefresh, setAutoRefresh] = useState(false);\n  const [lastUpdated, setLastUpdated] = useState(null);\n  const [refreshInterval, setRefreshInterval] = useState(30); // seconds\n  const [refreshIntervalOptions] = useState([10, 30, 60, 300]); // 10s, 30s, 1min, 5min\n  const refreshTimerRef = useRef(null);\n  // API connection status\n  const [apiConnected, setApiConnected] = useState(false);\n  const fetchDashboardData = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await statsService.getAdminDashboardStats();\n      if (response.isMockData) {\n        console.log('Using mock data');\n        setIsMockData(true);\n      } else {\n        console.log('Using API data');\n        setIsMockData(false);\n      }\n\n      // Data is already normalized by the stats service\n      console.log('Setting pre-normalized stats:', response);\n      setStats(response);\n\n      // Update last updated timestamp\n      setLastUpdated(new Date());\n    } catch (error) {\n      console.error('Error fetching dashboard data:', error);\n\n      // Check if this is an authentication error\n      if (error.isAuthError || error.response && error.response.status === 401) {\n        // Don't redirect, just show auth error message in the component\n        setError('Authentication error. Please log in again to view dashboard data.');\n        // Set a flag in session storage to prevent future redirects\n        sessionStorage.setItem('auth_error_shown', 'true');\n      } else {\n        setError('Failed to load dashboard data');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Setup auto-refresh\n  useEffect(() => {\n    // Initial data fetch\n    fetchDashboardData();\n    return () => {\n      if (refreshTimerRef.current) {\n        clearInterval(refreshTimerRef.current);\n      }\n    };\n  }, []);\n\n  // Handle auto-refresh changes\n  useEffect(() => {\n    if (autoRefresh) {\n      // Clear any existing timer\n      if (refreshTimerRef.current) {\n        clearInterval(refreshTimerRef.current);\n      }\n\n      // Set up new timer\n      refreshTimerRef.current = setInterval(() => {\n        fetchDashboardData();\n      }, refreshInterval * 1000);\n    } else {\n      // Clear timer when auto-refresh is disabled\n      if (refreshTimerRef.current) {\n        clearInterval(refreshTimerRef.current);\n        refreshTimerRef.current = null;\n      }\n    }\n\n    // Clean up on unmount\n    return () => {\n      if (refreshTimerRef.current) {\n        clearInterval(refreshTimerRef.current);\n      }\n    };\n  }, [autoRefresh, refreshInterval]);\n  const handleRefresh = () => {\n    // Fetch fresh data via API\n    fetchDashboardData();\n    toast.info('Refreshing dashboard data...');\n  };\n\n  // Handle connection status change from DashboardConnectionStatus component\n  const handleConnectionStatusChange = status => {\n    setApiConnected(status.apiConnected);\n  };\n  const toggleAutoRefresh = () => {\n    setAutoRefresh(prev => !prev);\n  };\n  const handleRefreshIntervalChange = seconds => {\n    setRefreshInterval(seconds);\n    if (autoRefresh) {\n      // Reset the timer with new interval\n      clearInterval(refreshTimerRef.current);\n      refreshTimerRef.current = setInterval(fetchDashboardData, seconds * 1000);\n    }\n  };\n\n  // Format date for activity timestamps\n  const formatDate = dateString => {\n    if (!dateString) return 'Unknown date';\n    try {\n      const date = new Date(dateString);\n      // Check if date is valid\n      if (isNaN(date.getTime())) return 'Invalid date';\n      return date.toLocaleString('en-US', {\n        month: 'short',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    } catch (error) {\n      console.error('Error formatting date:', error);\n      return 'Date error';\n    }\n  };\n  const statCards = [{\n    title: 'Total Students',\n    count: stats.totalStudents,\n    icon: /*#__PURE__*/_jsxDEV(UserGroupIcon, {\n      className: \"h-8 w-8 text-blue-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }, this),\n    link: '/admin/students',\n    bgColor: 'bg-blue-100'\n  }, {\n    title: 'Active Students',\n    count: stats.activeStudents,\n    icon: /*#__PURE__*/_jsxDEV(UserIcon, {\n      className: \"h-8 w-8 text-green-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }, this),\n    link: '/admin/students',\n    bgColor: 'bg-green-100'\n  }, {\n    title: 'Total Teachers',\n    count: stats.totalTeachers,\n    icon: /*#__PURE__*/_jsxDEV(UserIcon, {\n      className: \"h-8 w-8 text-purple-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }, this),\n    link: '/admin/teachers',\n    bgColor: 'bg-purple-100'\n  }, {\n    title: 'Total Programs',\n    count: stats.totalPrograms,\n    icon: /*#__PURE__*/_jsxDEV(BuildingOfficeIcon, {\n      className: \"h-8 w-8 text-yellow-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 13\n    }, this),\n    link: '/admin/programs',\n    bgColor: 'bg-yellow-100'\n  }, {\n    title: 'Recent Enrollments',\n    count: stats.recentEnrollments,\n    icon: /*#__PURE__*/_jsxDEV(ClipboardDocumentListIcon, {\n      className: \"h-8 w-8 text-indigo-500\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }, this),\n    link: '/admin/enrollments',\n    bgColor: 'bg-indigo-100'\n  }];\n\n  // formatDate function is defined above\n\n  // If auth error is passed from ProtectedRoute, show auth error message\n  if (authError) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col space-y-2 mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-semibold text-gray-900\",\n          children: \"Admin Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between bg-red-50 border-l-4 border-red-400 p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"h-5 w-5 text-red-400 mr-2\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            viewBox: \"0 0 20 20\",\n            fill: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              fillRule: \"evenodd\",\n              d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n              clipRule: \"evenodd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-red-700\",\n            children: \"Authentication error. Please log in again to view dashboard data.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.location.replace('/login'),\n          className: \"bg-red-100 hover:bg-red-200 text-red-800 px-3 py-1 rounded-md text-sm font-medium\",\n          children: \"Go to Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",\n        children: statCards.map((card, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `p-6 rounded-lg shadow-sm ${card.bgColor || 'bg-white'}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-gray-600\",\n                children: card.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-2xl font-semibold text-gray-900\",\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-3 rounded-full bg-white bg-opacity-80\",\n              children: card.icon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 15\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col space-y-2 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-semibold text-gray-900\",\n          children: \"Admin Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [stats.currentYear && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-sm text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(CalendarIcon, {\n              className: \"h-5 w-5 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Academic Year: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold\",\n                children: stats.currentYear\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 38\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this), lastUpdated && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center text-sm text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(ClockIcon, {\n              className: \"h-5 w-5 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"Last updated: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold\",\n                children: lastUpdated.toLocaleTimeString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleRefresh,\n            className: \"flex items-center px-3 py-1.5 bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(ArrowPathIcon, {\n              className: \"h-4 w-4 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Refresh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DashboardConnectionStatus, {\n        onConnectionChange: status => {\n          if (status.interval) {\n            setRefreshInterval(status.interval);\n          }\n        },\n        autoRefreshInterval: refreshInterval\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between bg-red-50 border-l-4 border-red-400 p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"h-5 w-5 text-red-400 mr-2\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          viewBox: \"0 0 20 20\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-red-700\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => window.location.replace('/login'),\n        className: \"bg-red-100 hover:bg-red-200 text-red-800 px-3 py-1 rounded-md text-sm font-medium\",\n        children: \"Go to Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 9\n    }, this), isMockData && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-yellow-50 border border-yellow-200 text-yellow-700 px-4 py-3 rounded-lg flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(ExclamationTriangleIcon, {\n          className: \"h-5 w-5 mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Using mock data. Real-time database connection unavailable.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-yellow-600\",\n          children: lastUpdated && `Last attempt: ${lastUpdated.toLocaleTimeString()}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleRefresh,\n          className: \"ml-4 text-sm bg-yellow-200 hover:bg-yellow-300 text-yellow-800 font-medium py-1 px-2 rounded flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(ArrowPathIcon, {\n            className: \"h-4 w-4 mr-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 15\n          }, this), \"Try Again\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n      children: statCards.map(card => /*#__PURE__*/_jsxDEV(Link, {\n        to: card.link,\n        className: `${card.bgColor} p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white p-3 rounded-full mr-4\",\n            children: card.icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-2xl font-bold\",\n              children: card.count\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium\",\n              children: card.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this)\n      }, card.title, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold mb-4\",\n          children: \"Quick Actions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/admin/students/add\",\n            className: \"flex flex-col items-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(UserGroupIcon, {\n              className: \"h-8 w-8 text-blue-500 mb-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium text-blue-700\",\n              children: \"Add Student\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/admin/teachers/add\",\n            className: \"flex flex-col items-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(AcademicCapIcon, {\n              className: \"h-8 w-8 text-purple-500 mb-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium text-purple-700\",\n              children: \"Add Teacher\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/admin/courses\",\n            className: \"flex flex-col items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(BookOpenIcon, {\n              className: \"h-8 w-8 text-green-500 mb-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium text-green-700\",\n              children: \"Manage Courses\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/admin/attendance\",\n            className: \"flex flex-col items-center p-4 bg-yellow-50 rounded-lg hover:bg-yellow-100 transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(CalendarDaysIcon, {\n              className: \"h-8 w-8 text-yellow-500 mb-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm font-medium text-yellow-700\",\n              children: \"Attendance\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-semibold\",\n            children: \"Recent Activity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/admin/activity\",\n            className: \"text-sm text-blue-600 hover:underline\",\n            children: \"View All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center my-8\",\n          children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 13\n        }, this) : stats.recentActivity && stats.recentActivity.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: stats.recentActivity.slice(0, 5).map((activity, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start border-b pb-3 last:border-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-100 p-2 rounded-full mr-3\",\n              children: /*#__PURE__*/_jsxDEV(UserIcon, {\n                className: \"h-5 w-5 text-blue-600\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: activity.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 25\n                }, this), ' ', activity.action]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500\",\n                children: formatDate(activity.created_at)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8 text-gray-500\",\n          children: \"No recent activity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 bg-white rounded-lg shadow-sm relative\",\n        children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-pulse flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(ArrowPathIcon, {\n              className: \"h-5 w-5 text-blue-500 animate-spin mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-blue-500\",\n              children: \"Updating...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-700\",\n            children: \"Students by Program\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(BookOpenIcon, {\n            className: \"h-6 w-6 text-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center my-8\",\n          children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 13\n        }, this) : stats.studentsByProgram && stats.studentsByProgram.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: stats.studentsByProgram.map(program => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between mb-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-medium\",\n                  children: program.program_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm font-semibold\",\n                  children: program.student_count\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 441,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-full bg-gray-200 rounded-full h-2.5\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"bg-blue-600 h-2.5 rounded-full\",\n                  style: {\n                    width: `${Math.min(100, program.student_count / Math.max(...stats.studentsByProgram.map(p => p.student_count)) * 100)}%`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 443,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 19\n            }, this)\n          }, program.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8 text-gray-500\",\n          children: \"No program data available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 bg-white rounded-lg shadow-sm relative\",\n        children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"animate-pulse flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(ArrowPathIcon, {\n              className: \"h-5 w-5 text-blue-500 animate-spin mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-blue-500\",\n              children: \"Updating...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-700\",\n            children: \"System Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"inline-block w-2 h-2 bg-green-500 rounded-full mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm text-green-600\",\n              children: \"Online\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600\",\n              children: \"Server Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\",\n              children: loading ? 'Updating...' : 'Running'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600\",\n              children: \"Last Data Sync\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm\",\n              children: lastUpdated ? lastUpdated.toLocaleTimeString() : 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600\",\n              children: \"Database Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\",\n              children: isMockData ? 'Using Mock Data' : 'Connected'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-gray-600\",\n              children: \"Auto-refresh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${autoRefresh ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`,\n              children: autoRefresh ? `Active (${refreshInterval}s)` : 'Disabled'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 251,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"8XdV1/0Tjo14PmBj9oeY4BXDIgc=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useMemo","AcademicCapIcon","UserGroupIcon","UserIcon","BookOpenIcon","BuildingOfficeIcon","CalendarIcon","ArrowPathIcon","ExclamationTriangleIcon","ClipboardDocumentListIcon","BanknotesIcon","CalendarDaysIcon","ClockIcon","Link","LoadingSpinner","statsService","toast","DashboardConnectionStatus","AuthErrorMessage","jsxDEV","_jsxDEV","Dashboard","authError","_s","stats","setStats","totalStudents","activeStudents","totalTeachers","totalPrograms","recentEnrollments","currentYear","studentsByProgram","recentActivity","dashboardData","setDashboardData","loading","setLoading","error","setError","isMockData","setIsMockData","autoRefresh","setAutoRefresh","lastUpdated","setLastUpdated","refreshInterval","setRefreshInterval","refreshIntervalOptions","refreshTimerRef","apiConnected","setApiConnected","fetchDashboardData","response","getAdminDashboardStats","console","log","Date","isAuthError","status","sessionStorage","setItem","current","clearInterval","setInterval","handleRefresh","info","handleConnectionStatusChange","toggleAutoRefresh","prev","handleRefreshIntervalChange","seconds","formatDate","dateString","date","isNaN","getTime","toLocaleString","month","day","hour","minute","statCards","title","count","icon","className","fileName","_jsxFileName","lineNumber","columnNumber","link","bgColor","children","xmlns","viewBox","fill","fillRule","d","clipRule","onClick","window","location","replace","map","card","index","toLocaleTimeString","onConnectionChange","interval","autoRefreshInterval","to","length","slice","activity","name","action","created_at","program","program_name","student_count","style","width","Math","min","max","p","id","_c","$RefreshReg$"],"sources":["C:/xampp/htdocs/sms-frontend-clone/src/pages/admin/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useMemo } from 'react';\nimport { \n  AcademicCapIcon, \n  UserGroupIcon, \n  UserIcon, \n  BookOpenIcon,\n  BuildingOfficeIcon,\n  CalendarIcon,\n  ArrowPathIcon,\n  ExclamationTriangleIcon,\n  ClipboardDocumentListIcon,\n  BanknotesIcon,\n  CalendarDaysIcon,\n  ClockIcon\n} from '@heroicons/react/24/outline';\nimport { Link } from 'react-router-dom';\nimport LoadingSpinner from '../../components/common/LoadingSpinner';\nimport statsService from '../../services/stats.service';\nimport { toast } from 'react-toastify';\nimport DashboardConnectionStatus from '../../components/DashboardConnectionStatus';\nimport AuthErrorMessage from '../../components/AuthErrorMessage';\n\nconst Dashboard = ({ authError }) => {\n  const [stats, setStats] = useState({\n    totalStudents: 0,\n    activeStudents: 0,\n    totalTeachers: 0,\n    totalPrograms: 0,\n    recentEnrollments: 0,\n    currentYear: '',\n    studentsByProgram: [],\n    recentActivity: []\n  });\n  const [dashboardData, setDashboardData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isMockData, setIsMockData] = useState(false);\n  const [autoRefresh, setAutoRefresh] = useState(false);\n  const [lastUpdated, setLastUpdated] = useState(null);\n  const [refreshInterval, setRefreshInterval] = useState(30); // seconds\n  const [refreshIntervalOptions] = useState([10, 30, 60, 300]); // 10s, 30s, 1min, 5min\n  const refreshTimerRef = useRef(null);\n  // API connection status\n  const [apiConnected, setApiConnected] = useState(false);\n\n  const fetchDashboardData = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const response = await statsService.getAdminDashboardStats();\n      \n      if (response.isMockData) {\n        console.log('Using mock data');\n        setIsMockData(true);\n      } else {\n        console.log('Using API data');\n        setIsMockData(false);\n      }\n\n      // Data is already normalized by the stats service\n      console.log('Setting pre-normalized stats:', response);\n      setStats(response);\n      \n      // Update last updated timestamp\n      setLastUpdated(new Date());\n      \n    } catch (error) {\n      console.error('Error fetching dashboard data:', error);\n      \n      // Check if this is an authentication error\n      if (error.isAuthError || (error.response && error.response.status === 401)) {\n        // Don't redirect, just show auth error message in the component\n        setError('Authentication error. Please log in again to view dashboard data.');\n        // Set a flag in session storage to prevent future redirects\n        sessionStorage.setItem('auth_error_shown', 'true');\n      } else {\n        setError('Failed to load dashboard data');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Setup auto-refresh\n  useEffect(() => {\n    // Initial data fetch\n    fetchDashboardData();\n    \n    return () => {\n      if (refreshTimerRef.current) {\n        clearInterval(refreshTimerRef.current);\n      }\n    };\n  }, []);\n  \n  // Handle auto-refresh changes\n  useEffect(() => {\n    if (autoRefresh) {\n      // Clear any existing timer\n      if (refreshTimerRef.current) {\n        clearInterval(refreshTimerRef.current);\n      }\n      \n      // Set up new timer\n      refreshTimerRef.current = setInterval(() => {\n        fetchDashboardData();\n      }, refreshInterval * 1000);\n    } else {\n      // Clear timer when auto-refresh is disabled\n      if (refreshTimerRef.current) {\n        clearInterval(refreshTimerRef.current);\n        refreshTimerRef.current = null;\n      }\n    }\n\n    // Clean up on unmount\n    return () => {\n      if (refreshTimerRef.current) {\n        clearInterval(refreshTimerRef.current);\n      }\n    };\n  }, [autoRefresh, refreshInterval]);\n  \n  const handleRefresh = () => {\n    // Fetch fresh data via API\n    fetchDashboardData();\n    toast.info('Refreshing dashboard data...');\n  };\n  \n  // Handle connection status change from DashboardConnectionStatus component\n  const handleConnectionStatusChange = (status) => {\n    setApiConnected(status.apiConnected);\n  };\n\n  const toggleAutoRefresh = () => {\n    setAutoRefresh(prev => !prev);\n  };\n  \n  const handleRefreshIntervalChange = (seconds) => {\n    setRefreshInterval(seconds);\n    if (autoRefresh) {\n      // Reset the timer with new interval\n      clearInterval(refreshTimerRef.current);\n      refreshTimerRef.current = setInterval(fetchDashboardData, seconds * 1000);\n    }\n  };\n\n  // Format date for activity timestamps\n  const formatDate = (dateString) => {\n    if (!dateString) return 'Unknown date';\n    \n    try {\n      const date = new Date(dateString);\n      // Check if date is valid\n      if (isNaN(date.getTime())) return 'Invalid date';\n      \n      return date.toLocaleString('en-US', {\n        month: 'short',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    } catch (error) {\n      console.error('Error formatting date:', error);\n      return 'Date error';\n    }\n  };\n\n  const statCards = [\n    {\n      title: 'Total Students',\n      count: stats.totalStudents,\n      icon: <UserGroupIcon className=\"h-8 w-8 text-blue-500\" />,\n      link: '/admin/students',\n      bgColor: 'bg-blue-100'\n    },\n    {\n      title: 'Active Students',\n      count: stats.activeStudents,\n      icon: <UserIcon className=\"h-8 w-8 text-green-500\" />,\n      link: '/admin/students',\n      bgColor: 'bg-green-100'\n    },\n    {\n      title: 'Total Teachers',\n      count: stats.totalTeachers,\n      icon: <UserIcon className=\"h-8 w-8 text-purple-500\" />,\n      link: '/admin/teachers',\n      bgColor: 'bg-purple-100'\n    },\n    {\n      title: 'Total Programs',\n      count: stats.totalPrograms,\n      icon: <BuildingOfficeIcon className=\"h-8 w-8 text-yellow-500\" />,\n      link: '/admin/programs',\n      bgColor: 'bg-yellow-100'\n    },\n    {\n      title: 'Recent Enrollments',\n      count: stats.recentEnrollments,\n      icon: <ClipboardDocumentListIcon className=\"h-8 w-8 text-indigo-500\" />,\n      link: '/admin/enrollments',\n      bgColor: 'bg-indigo-100'\n    }\n  ];\n\n  // formatDate function is defined above\n\n  // If auth error is passed from ProtectedRoute, show auth error message\n  if (authError) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex flex-col space-y-2 mb-4\">\n          <h1 className=\"text-2xl font-semibold text-gray-900\">Admin Dashboard</h1>\n        </div>\n        <div className=\"flex items-center justify-between bg-red-50 border-l-4 border-red-400 p-4\">\n          <div className=\"flex items-center\">\n            <svg className=\"h-5 w-5 text-red-400 mr-2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n            </svg>\n            <span className=\"text-red-700\">Authentication error. Please log in again to view dashboard data.</span>\n          </div>\n          <button\n            onClick={() => window.location.replace('/login')}\n            className=\"bg-red-100 hover:bg-red-200 text-red-800 px-3 py-1 rounded-md text-sm font-medium\"\n          >\n            Go to Login\n          </button>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n          {statCards.map((card, index) => (\n            <div key={index} className={`p-6 rounded-lg shadow-sm ${card.bgColor || 'bg-white'}`}>\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-sm font-medium text-gray-600\">{card.title}</p>\n                  <p className=\"text-2xl font-semibold text-gray-900\">-</p>\n                </div>\n                <div className=\"p-3 rounded-full bg-white bg-opacity-80\">\n                  {card.icon}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n  \n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex flex-col space-y-2 mb-4\">\n        <div className=\"flex justify-between items-center\">\n          <h1 className=\"text-2xl font-semibold text-gray-900\">Admin Dashboard</h1>\n          <div className=\"flex items-center space-x-2\">\n            {stats.currentYear && (\n              <div className=\"flex items-center text-sm text-gray-600\">\n                <CalendarIcon className=\"h-5 w-5 mr-1\" />\n                <span>Academic Year: <span className=\"font-semibold\">{stats.currentYear}</span></span>\n              </div>\n            )}\n            {lastUpdated && (\n              <div className=\"flex items-center text-sm text-gray-600\">\n                <ClockIcon className=\"h-5 w-5 mr-1\" />\n                <span>Last updated: <span className=\"font-semibold\">{lastUpdated.toLocaleTimeString()}</span></span>\n              </div>\n            )}\n            <button\n              onClick={handleRefresh}\n              className=\"flex items-center px-3 py-1.5 bg-blue-50 text-blue-600 rounded-md hover:bg-blue-100 transition-colors\"\n            >\n              <ArrowPathIcon className=\"h-4 w-4 mr-1\" />\n              <span>Refresh</span>\n            </button>\n          </div>\n        </div>\n        \n        {/* Connection Status Component */}\n        <DashboardConnectionStatus \n          onConnectionChange={(status) => {\n            if (status.interval) {\n              setRefreshInterval(status.interval);\n            }\n          }} \n          autoRefreshInterval={refreshInterval}\n        />\n      </div>\n\n      {error && (\n        <div className=\"flex items-center justify-between bg-red-50 border-l-4 border-red-400 p-4\">\n          <div className=\"flex items-center\">\n            <svg className=\"h-5 w-5 text-red-400 mr-2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n            </svg>\n            <span className=\"text-red-700\">{error}</span>\n          </div>\n          <button\n            onClick={() => window.location.replace('/login')}\n            className=\"bg-red-100 hover:bg-red-200 text-red-800 px-3 py-1 rounded-md text-sm font-medium\"\n          >\n            Go to Login\n          </button>\n        </div>\n      )}\n      \n      {isMockData && (\n        <div className=\"bg-yellow-50 border border-yellow-200 text-yellow-700 px-4 py-3 rounded-lg flex items-center justify-between\">\n          <div className=\"flex items-center\">\n            <ExclamationTriangleIcon className=\"h-5 w-5 mr-2\" />\n            <span>Using mock data. Real-time database connection unavailable.</span>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"text-xs text-yellow-600\">\n              {lastUpdated && `Last attempt: ${lastUpdated.toLocaleTimeString()}`}\n            </div>\n            <button \n              onClick={handleRefresh}\n              className=\"ml-4 text-sm bg-yellow-200 hover:bg-yellow-300 text-yellow-800 font-medium py-1 px-2 rounded flex items-center\"\n            >\n              <ArrowPathIcon className=\"h-4 w-4 mr-1\" />\n              Try Again\n            </button>\n          </div>\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {statCards.map((card) => (\n          <Link\n            key={card.title}\n            to={card.link}\n            className={`${card.bgColor} p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200`}\n          >\n            <div className=\"flex items-center\">\n              <div className=\"bg-white p-3 rounded-full mr-4\">{card.icon}</div>\n              <div>\n                <h3 className=\"text-2xl font-bold\">{card.count}</h3>\n                <p className=\"text-sm font-medium\">{card.title}</p>\n              </div>\n            </div>\n          </Link>\n        ))}\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <div className=\"bg-white p-6 rounded-lg shadow\">\n          <h2 className=\"text-lg font-semibold mb-4\">Quick Actions</h2>\n          <div className=\"grid grid-cols-2 gap-4\">\n            <Link\n              to=\"/admin/students/add\"\n              className=\"flex flex-col items-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors\"\n            >\n              <UserGroupIcon className=\"h-8 w-8 text-blue-500 mb-2\" />\n              <span className=\"text-sm font-medium text-blue-700\">Add Student</span>\n            </Link>\n            <Link\n              to=\"/admin/teachers/add\"\n              className=\"flex flex-col items-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors\"\n            >\n              <AcademicCapIcon className=\"h-8 w-8 text-purple-500 mb-2\" />\n              <span className=\"text-sm font-medium text-purple-700\">Add Teacher</span>\n            </Link>\n            <Link\n              to=\"/admin/courses\"\n              className=\"flex flex-col items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors\"\n            >\n              <BookOpenIcon className=\"h-8 w-8 text-green-500 mb-2\" />\n              <span className=\"text-sm font-medium text-green-700\">Manage Courses</span>\n            </Link>\n            <Link\n              to=\"/admin/attendance\"\n              className=\"flex flex-col items-center p-4 bg-yellow-50 rounded-lg hover:bg-yellow-100 transition-colors\"\n            >\n              <CalendarDaysIcon className=\"h-8 w-8 text-yellow-500 mb-2\" />\n              <span className=\"text-sm font-medium text-yellow-700\">Attendance</span>\n            </Link>\n          </div>\n        </div>\n\n        <div className=\"bg-white p-6 rounded-lg shadow\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h2 className=\"text-lg font-semibold\">Recent Activity</h2>\n            <Link to=\"/admin/activity\" className=\"text-sm text-blue-600 hover:underline\">\n              View All\n            </Link>\n          </div>\n          \n          {loading ? (\n            <div className=\"flex justify-center my-8\">\n              <LoadingSpinner />\n            </div>\n          ) : stats.recentActivity && stats.recentActivity.length > 0 ? (\n            <div className=\"space-y-4\">\n              {stats.recentActivity.slice(0, 5).map((activity, index) => (\n                  <div key={index} className=\"flex items-start border-b pb-3 last:border-0\">\n                    <div className=\"bg-blue-100 p-2 rounded-full mr-3\">\n                      <UserIcon className=\"h-5 w-5 text-blue-600\" />\n                    </div>\n                    <div className=\"flex-1\">\n                      <p className=\"text-sm\">\n                        <span className=\"font-medium\">{activity.name}</span>{' '}\n                        {activity.action}\n                      </p>\n                      <p className=\"text-xs text-gray-500\">{formatDate(activity.created_at)}</p>\n                    </div>\n                  </div>\n                ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-8 text-gray-500\">No recent activity</div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        <div className=\"p-4 bg-white rounded-lg shadow-sm relative\">\n          {loading && (\n            <div className=\"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center\">\n              <div className=\"animate-pulse flex items-center\">\n                <ArrowPathIcon className=\"h-5 w-5 text-blue-500 animate-spin mr-2\" />\n                <span className=\"text-blue-500\">Updating...</span>\n              </div>\n            </div>\n          )}\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold text-gray-700\">Students by Program</h3>\n            <BookOpenIcon className=\"h-6 w-6 text-blue-500\" />\n          </div>\n          \n          {loading ? (\n            <div className=\"flex justify-center my-8\">\n              <LoadingSpinner />\n            </div>\n          ) : stats.studentsByProgram && stats.studentsByProgram.length > 0 ? (\n            <div className=\"space-y-3\">\n              {stats.studentsByProgram.map((program) => (\n                <div key={program.id} className=\"flex items-center\">\n                  <div className=\"w-full\">\n                    <div className=\"flex justify-between mb-1\">\n                      <span className=\"text-sm font-medium\">{program.program_name}</span>\n                      <span className=\"text-sm font-semibold\">{program.student_count}</span>\n                    </div>\n                    <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\n                      <div \n                        className=\"bg-blue-600 h-2.5 rounded-full\" \n                        style={{ width: `${Math.min(100, (program.student_count / Math.max(...stats.studentsByProgram.map(p => p.student_count))) * 100)}%` }}\n                      ></div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-8 text-gray-500\">No program data available</div>\n          )}\n        </div>\n\n        <div className=\"p-4 bg-white rounded-lg shadow-sm relative\">\n          {loading && (\n            <div className=\"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center\">\n              <div className=\"animate-pulse flex items-center\">\n                <ArrowPathIcon className=\"h-5 w-5 text-blue-500 animate-spin mr-2\" />\n                <span className=\"text-blue-500\">Updating...</span>\n              </div>\n            </div>\n          )}\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold text-gray-700\">System Status</h3>\n            <div className=\"flex items-center\">\n              <span className=\"inline-block w-2 h-2 bg-green-500 rounded-full mr-1\"></span>\n              <span className=\"text-sm text-green-600\">Online</span>\n            </div>\n          </div>\n          \n          <div className=\"space-y-4\">\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-gray-600\">Server Status</span>\n              <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                {loading ? 'Updating...' : 'Running'}\n              </span>\n            </div>\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-gray-600\">Last Data Sync</span>\n              <span className=\"text-sm\">\n                {lastUpdated ? lastUpdated.toLocaleTimeString() : 'N/A'}\n              </span>\n            </div>\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-gray-600\">Database Status</span>\n              <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\n                {isMockData ? 'Using Mock Data' : 'Connected'}\n              </span>\n            </div>\n            <div className=\"flex justify-between items-center\">\n              <span className=\"text-gray-600\">Auto-refresh</span>\n              <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${autoRefresh ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`}>\n                {autoRefresh ? `Active (${refreshInterval}s)` : 'Disabled'}\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}