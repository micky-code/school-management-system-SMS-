{"ast":null,"code":"import axios from 'axios';\nimport api from './api';\nconst API_URL = 'http://localhost:5000/api';\n\n// Mock user profile data for development/testing\nconst mockProfiles = {\n  admin: {\n    id: 1,\n    username: 'admin',\n    email: 'admin@school.edu',\n    firstName: 'Admin',\n    lastName: 'User',\n    role: 'admin',\n    avatar: 'https://randomuser.me/api/portraits/men/41.jpg',\n    phone: '+855 12 345 678',\n    address: 'Phnom Penh, Cambodia',\n    dateJoined: '2023-01-15',\n    lastLogin: '2025-06-20',\n    department: 'Administration',\n    status: 'active',\n    bio: 'System administrator responsible for managing the Student Management System.'\n  },\n  teacher: {\n    id: 2,\n    username: 'jsmith',\n    email: 'john.smith@school.edu',\n    firstName: 'John',\n    lastName: 'Smith',\n    role: 'teacher',\n    avatar: 'https://randomuser.me/api/portraits/men/32.jpg',\n    phone: '+855 12 456 789',\n    address: 'Phnom Penh, Cambodia',\n    dateJoined: '2023-02-10',\n    lastLogin: '2025-06-19',\n    department: 'Mathematics',\n    position: 'Senior Lecturer',\n    subjects: ['Calculus', 'Linear Algebra', 'Statistics'],\n    education: 'PhD in Mathematics',\n    yearsOfExperience: 8,\n    status: 'active',\n    bio: 'Experienced mathematics teacher with a passion for helping students understand complex concepts.'\n  },\n  student: {\n    id: 3,\n    username: 'sopheak',\n    email: 'sopheak.chhum@school.edu',\n    firstName: 'Sopheak',\n    lastName: 'Chhum',\n    role: 'student',\n    avatar: 'https://randomuser.me/api/portraits/women/44.jpg',\n    phone: '+855 98 765 432',\n    address: 'Siem Reap, Cambodia',\n    dateJoined: '2024-09-05',\n    lastLogin: '2025-06-18',\n    studentId: 'ST202405789',\n    program: 'Bachelor of Information Technology',\n    batch: '2024',\n    department: 'Information Technology',\n    currentYear: 2,\n    currentSemester: 1,\n    gpa: 3.7,\n    status: 'active',\n    bio: 'Dedicated student pursuing a degree in Information Technology with interests in web development and AI.'\n  },\n  parent: {\n    id: 4,\n    username: 'sothea',\n    email: 'sothea.meas@example.com',\n    firstName: 'Sothea',\n    lastName: 'Meas',\n    role: 'parent',\n    avatar: 'https://randomuser.me/api/portraits/women/68.jpg',\n    phone: '+855 92 345 678',\n    address: 'Phnom Penh, Cambodia',\n    dateJoined: '2024-09-10',\n    lastLogin: '2025-06-15',\n    occupation: 'Business Owner',\n    childrenIds: [3, 5],\n    status: 'active',\n    bio: 'Concerned parent actively involved in my children\\'s education and development.'\n  }\n};\n\n// Helper function to add mock data flag\nconst addMockFlag = data => {\n  return {\n    _isMockData: true,\n    data\n  };\n};\n\n// Safe API call with mock fallback\nconst safeApiCall = async (apiCall, mockData) => {\n  try {\n    const response = await apiCall();\n    if (!response || !response.data) {\n      return addMockFlag(mockData);\n    }\n    return response.data;\n  } catch (error) {\n    console.error('API call failed:', error);\n    return addMockFlag(mockData);\n  }\n};\nconst profileService = {\n  // Get profile information based on userId and role\n  getProfile: async (userId, role) => {\n    const mockProfile = mockProfiles[role] || mockProfiles.teacher;\n    return await safeApiCall(() => api.get(`/users/profile/${userId}`), mockProfile);\n  },\n  // Update user profile\n  updateProfile: async (userId, profileData) => {\n    return await safeApiCall(() => api.put(`/users/profile/${userId}`, profileData), {\n      success: true,\n      message: 'Profile updated successfully'\n    });\n  },\n  // Change user password\n  changePassword: async (userId, passwordData) => {\n    return await safeApiCall(() => api.post(`/users/password/${userId}`, passwordData), {\n      success: true,\n      message: 'Password changed successfully'\n    });\n  },\n  // Upload profile picture\n  uploadProfilePicture: async (userId, formData) => {\n    return await safeApiCall(() => api.post(`/users/profile-picture/${userId}`, formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    }), {\n      success: true,\n      message: 'Profile picture uploaded successfully',\n      url: 'https://randomuser.me/api/portraits/men/41.jpg'\n    });\n  }\n};\nexport default profileService;","map":{"version":3,"names":["axios","api","API_URL","mockProfiles","admin","id","username","email","firstName","lastName","role","avatar","phone","address","dateJoined","lastLogin","department","status","bio","teacher","position","subjects","education","yearsOfExperience","student","studentId","program","batch","currentYear","currentSemester","gpa","parent","occupation","childrenIds","addMockFlag","data","_isMockData","safeApiCall","apiCall","mockData","response","error","console","profileService","getProfile","userId","mockProfile","get","updateProfile","profileData","put","success","message","changePassword","passwordData","post","uploadProfilePicture","formData","headers","url"],"sources":["C:/xampp/htdocs/sms-frontend-clone/src/services/profile.service.js"],"sourcesContent":["import axios from 'axios';\nimport api from './api';\n\nconst API_URL = 'http://localhost:5000/api';\n\n// Mock user profile data for development/testing\nconst mockProfiles = {\n  admin: {\n    id: 1,\n    username: 'admin',\n    email: 'admin@school.edu',\n    firstName: 'Admin',\n    lastName: 'User',\n    role: 'admin',\n    avatar: 'https://randomuser.me/api/portraits/men/41.jpg',\n    phone: '+855 12 345 678',\n    address: 'Phnom Penh, Cambodia',\n    dateJoined: '2023-01-15',\n    lastLogin: '2025-06-20',\n    department: 'Administration',\n    status: 'active',\n    bio: 'System administrator responsible for managing the Student Management System.'\n  },\n  teacher: {\n    id: 2,\n    username: 'jsmith',\n    email: 'john.smith@school.edu',\n    firstName: 'John',\n    lastName: 'Smith',\n    role: 'teacher',\n    avatar: 'https://randomuser.me/api/portraits/men/32.jpg',\n    phone: '+855 12 456 789',\n    address: 'Phnom Penh, Cambodia',\n    dateJoined: '2023-02-10',\n    lastLogin: '2025-06-19',\n    department: 'Mathematics',\n    position: 'Senior Lecturer',\n    subjects: ['Calculus', 'Linear Algebra', 'Statistics'],\n    education: 'PhD in Mathematics',\n    yearsOfExperience: 8,\n    status: 'active',\n    bio: 'Experienced mathematics teacher with a passion for helping students understand complex concepts.'\n  },\n  student: {\n    id: 3,\n    username: 'sopheak',\n    email: 'sopheak.chhum@school.edu',\n    firstName: 'Sopheak',\n    lastName: 'Chhum',\n    role: 'student',\n    avatar: 'https://randomuser.me/api/portraits/women/44.jpg',\n    phone: '+855 98 765 432',\n    address: 'Siem Reap, Cambodia',\n    dateJoined: '2024-09-05',\n    lastLogin: '2025-06-18',\n    studentId: 'ST202405789',\n    program: 'Bachelor of Information Technology',\n    batch: '2024',\n    department: 'Information Technology',\n    currentYear: 2,\n    currentSemester: 1,\n    gpa: 3.7,\n    status: 'active',\n    bio: 'Dedicated student pursuing a degree in Information Technology with interests in web development and AI.'\n  },\n  parent: {\n    id: 4,\n    username: 'sothea',\n    email: 'sothea.meas@example.com',\n    firstName: 'Sothea',\n    lastName: 'Meas',\n    role: 'parent',\n    avatar: 'https://randomuser.me/api/portraits/women/68.jpg',\n    phone: '+855 92 345 678',\n    address: 'Phnom Penh, Cambodia',\n    dateJoined: '2024-09-10',\n    lastLogin: '2025-06-15',\n    occupation: 'Business Owner',\n    childrenIds: [3, 5],\n    status: 'active',\n    bio: 'Concerned parent actively involved in my children\\'s education and development.'\n  }\n};\n\n// Helper function to add mock data flag\nconst addMockFlag = (data) => {\n  return {\n    _isMockData: true,\n    data\n  };\n};\n\n// Safe API call with mock fallback\nconst safeApiCall = async (apiCall, mockData) => {\n  try {\n    const response = await apiCall();\n    if (!response || !response.data) {\n      return addMockFlag(mockData);\n    }\n    return response.data;\n  } catch (error) {\n    console.error('API call failed:', error);\n    return addMockFlag(mockData);\n  }\n};\n\nconst profileService = {\n  // Get profile information based on userId and role\n  getProfile: async (userId, role) => {\n    const mockProfile = mockProfiles[role] || mockProfiles.teacher;\n    \n    return await safeApiCall(\n      () => api.get(`/users/profile/${userId}`),\n      mockProfile\n    );\n  },\n  \n  // Update user profile\n  updateProfile: async (userId, profileData) => {\n    return await safeApiCall(\n      () => api.put(`/users/profile/${userId}`, profileData),\n      { success: true, message: 'Profile updated successfully' }\n    );\n  },\n  \n  // Change user password\n  changePassword: async (userId, passwordData) => {\n    return await safeApiCall(\n      () => api.post(`/users/password/${userId}`, passwordData),\n      { success: true, message: 'Password changed successfully' }\n    );\n  },\n  \n  // Upload profile picture\n  uploadProfilePicture: async (userId, formData) => {\n    return await safeApiCall(\n      () => api.post(`/users/profile-picture/${userId}`, formData, { \n        headers: { \n          'Content-Type': 'multipart/form-data'\n        } \n      }),\n      { success: true, message: 'Profile picture uploaded successfully', url: 'https://randomuser.me/api/portraits/men/41.jpg' }\n    );\n  }\n};\n\nexport default profileService;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}